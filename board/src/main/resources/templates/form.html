<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>ê¸€ì“°ê¸°</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body { background-color: #ffffff; font-family: 'Noto Sans KR', sans-serif; }
    .header { background: linear-gradient(to right, #4f46e5, #3b82f6); color: white; padding: 1rem 2rem; }
  </style>
</head>
<body>
<div class="header d-flex justify-content-between align-items-center">
  <h4 class="m-0" th:text="${post.id} != null ? 'âœï¸ ê¸€ ìˆ˜ì •' : 'âœï¸ ê¸€ì“°ê¸°'">âœï¸ ê¸€ì“°ê¸°</h4>
  <a href="/" class="btn btn-light">ëª©ë¡</a>
</div>

<div class="container mt-4">
  <form th:action="${post.id} != null ? @{'/posts/update/' + ${post.id}} : @{/posts}" method="post" enctype="multipart/form-data">

    <!-- âœ… ë¬´ì¡°ê±´ ë Œë”ë§ë˜ëŠ” ê³ ì • ìˆ¨ê²¨ì§„ í•„ë“œ -->
    <input type="hidden" name="userId" value="1" />
    <input type="hidden" name="profileId" value="1" />
    <input type="hidden" name="likes" th:value="${post.likes != null ? post.likes : 0}" />
    <input type="hidden" name="view" th:value="${post.view != null ? post.view : 0}" />
    <input type="hidden" name="complete" th:value="${post.complete != null ? post.complete : false}" />

    <div class="mb-3">
      <label class="form-label">ì œëª©</label>
      <input type="text" class="form-control" name="title" th:value="${post.title}" required />
    </div>

    <div class="mb-3">
      <label class="form-label">ë‚´ìš©</label>
      <textarea class="form-control" name="content" rows="4" required th:text="${post.content}"></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">ê°€ê²©</label>
      <input type="number" class="form-control" name="price" th:value="${post.price}" required />
    </div>

    <div class="mb-3">
      <label class="form-label">ì´ë¯¸ì§€ íŒŒì¼ (ì„ íƒ)</label>
      <input type="file" class="form-control" name="fileUpload" />
    </div>

    <div class="mb-3">
      <label class="form-label">ìƒíƒœ</label>
      <select class="form-control" name="status" required>
        <option th:each="s : ${statuses}" th:value="${s}" th:text="${s}" th:selected="${s} == ${post.status}">ONSALE</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary">ğŸ’¾ ì €ì¥</button>
  </form>
</div>
</body>
</html>

